---
layout: default
datatable: true
---



<div id="formcontainer" style="border: 2px dotted #111;max-width: 300px;padding: 20px;margin-top: 20px;">
<form id="test-form">
  
  <div>
    <label>Name</label>
    <input type="text" name="name" placeholder="name" required />
  </div>

  <div>
    <label>Email</label>
    <input type="text" name="email" placeholder="email"/>
  </div>
  
  <div>
    <label>Title of the book or article you want to discuss</label>
    <input type="text" name="title" placeholder="title"/>
  </div>

<div class="g-recaptcha" id="rcaptcha"  data-sitekey="site key"></div>
<span id="captcha" style="color:red" /></span> <!-- this will show captcha errors -->
	
  <div>
    <button type="submit"id="submit-form">Submit</button>
  </div>
</form>
</div>

<script src='https://www.google.com/recaptcha/api.js'></script>
<script>

function get_action(form) 
{
    var v = grecaptcha.getResponse();
    if(v.length == 0)
    {
        document.getElementById('captcha').innerHTML="You can't leave Captcha Code empty";
        return false;
    }
    else
    {
         document.getElementById('captcha').innerHTML="Captcha completed";
        return true; 
    }
}

</script>
	
<script>
$.fn.serializeObject = function() {
	var o = {};
	var a = this.serializeArray();
	$.each(a, function() {
		if (o[this.name]) {
			if (!o[this.name].push) {
				o[this.name] = [o[this.name]];
			}
			o[this.name].push(this.value || '');
		} else {
			o[this.name] = this.value || '';
		}
	});
	return o;
};

var $form = $('form#test-form'),
    url = 'https://script.google.com/macros/s/AKfycbwyOnh8gcAqO8f_sxIRWVTK-9_qAFRfzXylpyyc1wedI6EG4vB6/exec'

$('#test-form').on('submit', function(e) {
  e.preventDefault();
  var jqxhr = $.ajax({
    url: url,
    method: "GET",
    dataType: "json",
    data: $form.serializeObject()
  }).done(function(e){console.log(e);document.getElementById("formcontainer").innerHTML = "Thanks! We'll send you an email as soon as we've matched you to a peer.";}
    
  );
})
</script>

