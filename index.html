---
layout: default
datatable: true
---

<h3 class="section-title">Submit a Peer-Matching Request</h3>	 


<div id="formcontainer" style="border: 2px dotted #111;max-width: 600px;padding: 20px;margin-top: 20px;margin:0 auto;text-align:center; ">
<form id="test-form">
    <input type="text" name="title" placeholder="Title of the book or article you want to discuss" required />
    <input type="text" name="name" placeholder="Your Name" required/>
    <input type="text" name="email" placeholder="Your Email-Address" required/>
	<input type="hidden" id="g-recaptcha-response" name="g-recaptcha-response">
	<input type="hidden" name="action" value="validate_captcha">
    <div>
    <button class="btn"  type="submit"id="submit-form">Submit</button>
    </div>

    <div style="font-size:8px;color:#D3D3D3;margin-top:10px">This form is protected by reCAPTCHA and the Google
    <a href="https://policies.google.com/privacy">Privacy Policy</a> and
    <a href="https://policies.google.com/terms">Terms of Service</a> apply.
    </form></div>
</div>

<div class="grid">
  <div class="column"> A
	</div>
  <div class="column">B
	</div>
  <div class="column">C
	</div>
</div>


<script>
    grecaptcha.ready(function() {
    // do request for recaptcha token
    // response is promise with passed token
        grecaptcha.execute('6Lfh56cZAAAAAM4KbndpCBEPzvTRoi1IYmSXI0ar', {action:'validate_captcha'})
                  .then(function(token) {
            // add token value to form
            document.getElementById('g-recaptcha-response').value = token;
        });
    });
</script>
 

	
<script>
$.fn.serializeObject = function() {
	var o = {};
	var a = this.serializeArray();
	$.each(a, function() {
		if (o[this.name]) {
			if (!o[this.name].push) {
				o[this.name] = [o[this.name]];
			}
			o[this.name].push(this.value || '');
		} else {
			o[this.name] = this.value || '';
		}
	});
	return o;
};

var $form = $('form#test-form'),
    url = 'https://script.google.com/macros/s/AKfycbwyOnh8gcAqO8f_sxIRWVTK-9_qAFRfzXylpyyc1wedI6EG4vB6/exec'

$('#test-form').on('submit', function(e) {
  e.preventDefault();
  var jqxhr = $.ajax({
    url: url,
    method: "GET",
    dataType: "json",
    data: $form.serializeObject()
  }).done(function(e){console.log(e);document.getElementById("formcontainer").innerHTML = "Thanks! We'll send you an email as soon as we've matched you to a peer.";}
    
  );
})
</script>

